@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

.music-sheet {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 2;
  overflow: hidden;
  background:
    linear-gradient(180deg, rgba(248, 244, 236, 0.05), rgba(110, 104, 92, 0.08)),
    repeating-linear-gradient(
      to bottom,
      rgba(240, 232, 214, 0.08) 0px,
      rgba(240, 232, 214, 0.08) 5px,
      transparent 5px,
      transparent 24px
    ),
    repeating-linear-gradient(
      to bottom,
      rgba(37, 31, 23, 0.35) 0px,
      rgba(37, 31, 23, 0.35) 1px,
      transparent 1px,
      transparent 6px
    ),
    repeating-linear-gradient(
      to right,
      rgba(37, 31, 23, 0.12) 0px,
      rgba(37, 31, 23, 0.12) 1px,
      transparent 1px,
      transparent 96px
    );
  mix-blend-mode: screen;
}

.music-sheet__overlay {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 20%, rgba(249, 244, 233, 0.2), transparent 45%),
    linear-gradient(180deg, rgba(10, 14, 22, 0.68), rgba(6, 8, 15, 0.85));
  mix-blend-mode: multiply;
  opacity: 0.85;
}

.music-sheet__note {
  position: absolute;
  top: var(--note-top);
  left: var(--note-left);
  transform: translate(-50%, -50%) scale(var(--note-scale, 1)) rotate(var(--note-rotate, 0deg));
  font-size: clamp(1.1rem, 1.8vw, 2.3rem);
  color: rgba(36, 28, 18, 0.85);
  text-shadow: 0 2px 6px rgba(249, 240, 214, 0.3);
  font-family: "Times New Roman", "Noto Serif JP", serif;
  opacity: 0;
  animation: noteFloat var(--note-duration, 10s) ease-in-out infinite;
  animation-delay: var(--note-delay, 0s);
}

.music-sheet__note::before {
  content: attr(data-symbol);
  display: block;
}

@keyframes noteFloat {
  0% {
    transform: translate(-50%, -50%) scale(var(--note-scale, 1)) rotate(var(--note-rotate, 0deg));
    opacity: 0;
  }
  12% {
    opacity: 0.8;
  }
  55% {
    transform: translate(calc(-50% + 6px), calc(-50% - 8px)) scale(var(--note-scale, 1.05))
      rotate(calc(var(--note-rotate, 0deg) + 6deg));
    opacity: 1;
  }
  88% {
    opacity: 0.3;
  }
  100% {
    transform: translate(calc(-50% - 4px), calc(-50% - 18px)) scale(var(--note-scale, 0.95))
      rotate(calc(var(--note-rotate, 0deg) - 4deg));
    opacity: 0;
  }
}
